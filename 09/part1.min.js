i = require('fs').readFileSync(0, 'utf8')

disk = []
id = 0;
z=(a,v)=>{for (i = 0; i < a; i++)disk.push(v)}
[...i.matchAll(/(\d)(\d?)/g)].forEach(([_, a, b=0])=> (z(a,id++), z(b,null)))
while((Z=disk.indexOf(null))>=0) disk[Z] = disk.pop();
console.log(disk.reduce((a, c, i) => a + c*i, 0));
